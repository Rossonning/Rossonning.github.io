
# AI 设计

## 基础
1. 数据模型
CK3 的 NPC 系统是高度参数化的，每个 NPC 都有以下核心数据：

静态参数：

**Traits（特质）：**描述人物的性格（如野心勃勃、慷慨、胆小），直接影响行为和事件响应。
**Skills（技能）：**如外交、管理、军事、阴谋、学识等，影响人物的决策和事件成功率。
**Health（健康）：**年龄、疾病、体质等影响寿命和状态。
**Title（头衔）：**地位与权力的标志，影响与其他人物的互动。

动态参数：

**Relationships（关系）：**友好、敌对、婚姻、联盟等，用图结构管理。
**Wealth & Resources（财富与资源）：**个人资产影响其权力和行动能力。
**Tasks（任务）：**当前的行为计划，如发动叛乱、经营领地。

2. 关系网络
CK3 的动态关系网络是系统核心：

使用图形结构（Graph）建模：
- 节点：人物。
- 边：关系类型（盟友、敌人、血亲等）。
- 权重：关系强度（如友好度、敌意值）。

随事件动态调整：
例如，一个联盟可能因为婚姻加强，也可能因背叛而断裂。

复杂互动：
每个 NPC 会基于自己的利益、性格和当前关系网络作出决策。
例如，一个怀有敌意的 NPC 可能通过阴谋策反主角的盟友。

3. 行为模拟
行为系统通过以下方式设计：

权重化的行为选择：

NPC 会根据当前状态和目标，从一组可能行为中选择优先级最高的行动。
权重由性格、技能、当前关系状态等参数计算。
目标导向行动规划（GOAP）：

NPC 会为自己设定目标（如提升地位、打击敌人）并规划一系列行动来实现。
动态调整计划：如果目标受挫，会根据当前状态重新规划。

4. 事件系统
CK3 的随机事件系统为游戏增加了深度和变化：

事件触发：

通过条件触发，例如“关系恶化”可能触发决斗事件。
每个事件可能有多个结果，由 NPC 参数和玩家选择决定。
事件的动态生成：

事件设计具有模板化，可根据 NPC 的特性和环境动态生成具体内容。
例如，一个“宫廷密谋”事件可能因特定 NPC 的野心特质而升级为毒害行动。


# 时间推进系统

## 回合结构建议

1. 开局阶段：

更新 NPC 状态：如人物的健康、关系变化、任务进度。
玩家接收重要信息：例如，某个敌对派系的阴谋进度已达 50%，需要特别留意。

2. 随机事件阶段

触发环境事件：随机宫廷事件或特定条件事件（如某 NPC 突然死亡）。

敌意 NPC 阴谋推进

3. 玩家行动阶段

玩家分配行动点进行多次行动。
每次行动立即结算短期效果，并记录长期筹谋的进度。
玩家需要权衡行动的优先级与消耗的行动点数。